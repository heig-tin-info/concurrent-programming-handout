\documentclass[a4paper, 11pt, onecolumn, twoside, openright]{report}

\usepackage[french]{babel}
\usepackage{color}
\usepackage{frbib}
\usepackage{booktabs}
\usepackage{fontspec}
\usepackage{amsfonts}
\usepackage{lettrine}
%\usepackage[Lenny]{fncychap}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{amstext}
\usepackage{subfigure}
\usepackage{heiglogo}
\usepackage{listings}
\usepackage[chapter]{algorithm}
\usepackage{algorithmic}
\usepackage{tabularx}
\usepackage{fancyhdr}
\usepackage{ulem}
\usepackage{xpatch}
\usepackage{xcolor}
\usepackage{realboxes}
\usepackage[framemethod=tikz]{mdframed}
\usepackage[labelfont=bf]{caption}

\setlength{\parskip}{1em}

\definecolor{GitHubGray}{rgb}{0.9,0.9,0.9}

\lstset{
    language=c,
    breaklines=true,
    keywordstyle=\bfseries\color{black},
    basicstyle=\ttfamily\color{black}\fontsize{9pt}{10pt}\selectfont,
    emphstyle={\em \color{gray}},
    literate={`}{\lstinline`}{1},
    keepspaces=true,
    showspaces=false,
    showtabs=true,
    tabsize=2,
    upquote=true,
    aboveskip=2pt,
    belowskip=2pt,
    framexleftmargin=2pt,
    extendedchars=true,
    inputencoding=utf8,
    literate=
    {à}{{\`a}}1
    {è}{{\`e}}1
    {é}{{\'e}}1
    {É}{{\'E}}1
    {ê}{{\^e}}1
    {î}{{\^i}}1
    {ö}{{\"o}}1
    {°}{\textdegree}1
    {ç}{{\c{c}}}1
}

\mdfsetup{%
  roundcorner=4pt,
  innerleftmargin=2mm,
  innertopmargin=4.5mm,
  linecolor=black!50,%
  backgroundcolor=GitHubGray,
  innerbottommargin=1mm
}

\newcommand{\ccode}[1]{{\lstset{basicstyle=\normalsize\ttfamily,stringstyle=\ttfamily}\lstinline$#1$}}

\makeatletter
\xpretocmd\lstinline{\Colorbox{GitHubGray}\bgroup\appto\lst@DeInit{\egroup}}{}{}
\makeatother


\floatname{algorithm}{Algorithme}

\graphicspath{{./images/}}


\newcommand{\com}[1]{}
%\renewcommand{\com}[1]{\pagebreak{\typeout{Comment: #1}\Huge\textbf{#1}}\pagebreak}


\newcommand{\ang}[1]{\textit{#1}}

%\renewcommand{\includegraphics}[2]{}


% \setlength{\headheight}{1.2cm}
% \setlength{\voffset}{-1.2cm}
% \setlength{\textheight}{655pt}
% \addtolength{\oddsidemargin}{-1cm}
% \addtolength{\evensidemargin}{-1cm}
% \addtolength{\textwidth}{2cm}

\newcounter{exercicecounter}
\setcounter{exercicecounter}{1}

\newcommand{\extitle}[1]{\centering{\Huge #1}\vspace{1cm}}

\newenvironment{exercice}[1][]{{%
  \noindent%
  \begin{minipage}[l]{\linewidth}%
    \vspace{8mm}%
    \rule{\linewidth}{0.2mm} \\%
    %%\vspace{1mm}%
    \large\textbf{Exercice \theexercicecounter :} #1\\ %
    \rule{\linewidth}{0.2mm}%
    \vspace{5mm}%
    \addtocounter{exercicecounter}{1}%
  \end{minipage}}}{}

\newcommand{\startexercice}{\subsection*{Exercice \thechapter.\theexercicecounter}\addtocounter{exercicecounter}{1}}

\newcommand{\startchapter}{\thispagestyle{myplain}
%\setcounter{page}{1}
\setcounter{exercicecounter}{1}}

\setlength{\unitlength}{1cm}

\pagestyle{fancy}
% with this we ensure that the chapter and section
% headings are in lowercase
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\chaptername}\ \thechapter.\ \MakeUppercase{#1}}{}}
%\renewcommand{\rightmark}[1]{PCO1. \markboth{\MakeUppercase{\chaptername}\ \thechapter.\ \MakeUppercase{#1}}{}}
%\renewcommand{\chaptermark}[1]{PCO1. \markboth{\MakeUppercase{\chaptername}\ \thechapter.\ \MakeUppercase{#1}}{}}
\fancyhf{} %delete the current section for header and footer
\renewcommand{\headrulewidth}{0pt}
\fancyhead[RO]{\thepage}
\fancyhead[LE]{\thepage}
\fancyhead[LO]{\rightmark}
\fancyhead[RE]{\leftmark}
%\fancyfoot[C]{Programmation Concurrente 1 \copyright HEIG-VD}
\fancyheadoffset[LE,RO]{1.5cm} \fancyfootoffset[LE,RO]{1.5cm}
%\fancyhead[LE]{{\Roman{chapter}}.\thepage}

\fancypagestyle{myplain}{%
%\fancyhf{} % clear all header and footer fields
\renewcommand{\headrulewidth}{0pt}
\fancyhead{}
%\fancyfoot[C]{Programmation Concurrente 1 \copyright HEIG-VD}
}

%\renewcommand{\figurename}{Figure}
%\def\listfigurename{Liste des figures}
%\renewcommand{\tablename}{Tableau}


\emergencystretch=50pt

\renewcommand{\labelitemi}{$\bullet$}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}

\setlength{\parindent}{0pt}

\begin{document}


\begin{titlepage}

\logo{1cm}{1cm}
\centering \scshape \vspace*{\fill}

{\Huge Introduction à la\\\vspace{1em}Programmation Concurrente} \vspace{5em}

{\Large Polycopié du cours PCO} \vspace{5em}

\upshape

{\Large Prof. Claude Evéquoz, Prof. Yann Thoma, Prof. Yves Chevallier }
\vspace{2em}

{\Large
HEIG-VD\\
2023}

\vspace*{\fill}

\end{titlepage}

\thispagestyle{empty} \thispagestyle{empty}

\addcontentsline{toc}{chapter}{Table des matières}
\tableofcontents

\include{chap_intro}
\include{chap_exclusion}
\include{chap_semaphore}
\include{chap_prod_conso}
\include{chap_lecteur_redacteur}
\include{chap_moniteur}

\appendix

\include{chap_pthread}
\include{chap_temps}

\newpage
\mbox{}
\newpage \addcontentsline{toc}{chapter}{Liste des Figures}
\listoffigures

\clearpage \addcontentsline{toc}{chapter}{Liste des Tableaux}
\listoftables

\clearpage \addcontentsline{toc}{chapter}{Liste des Algorithmes}
\listofalgorithms

\let\ifFTR\iftrue\captionsfrench

\nocite{*}
\bibliographystyle{frplain}
%\bibliography{../bibtex/routing}
%,../bibtex/biblio

%\newpage
%\mbox{}

\startchapter
\addcontentsline{toc}{chapter}{Bibliographie}
\bibliography{pco}
\clearpage \thispagestyle{empty}

\end{document}